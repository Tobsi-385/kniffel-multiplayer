<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kniffel Multiplayer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- ===== MODUS-AUSWAHL SCREEN (NEU) ===== -->
    <div id="modeSelectionScreen" class="screen">
        <div class="container">
            <h1>ğŸ² Kniffel</h1>
            <p style="font-size: 18px; color: #666; margin-bottom: 24px;">WÃ¤hle einen Spielmodus:</p>
            <div style="display: flex; flex-direction: column; gap: 16px; margin: 32px 0;">
                <button class="btn btn--primary" style="min-height: 60px; font-size: 18px; font-weight: bold;" onclick="selectGameMode('singleplayer')">
                    ğŸ‘¤ Singleplayer
                </button>
                <button class="btn btn--primary" style="min-height: 60px; font-size: 18px; font-weight: bold;" onclick="selectGameMode('multiplayer')">
                    ğŸ‘¥ Multiplayer
                </button>
            </div>
        </div>
    </div>

    <!-- ===== SINGLEPLAYER START SCREEN (NEU) ===== -->
    <div id="singleplayerStartScreen" class="screen" style="display: none;">
        <div class="container" style="max-width: 600px; margin: 50px auto; padding: 32px; background: white; border-radius: 12px; border: 1px solid #ddd; text-align: center;">
            <h1 style="color: #218085; margin-bottom: 24px;">ğŸ² Kniffel - Singleplayer</h1>
            <p style="margin-bottom: 16px;">Spiele gegen den Computer!</p>
            <div style="margin-bottom: 16px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 500; font-size: 12px;">Dein Name:</label>
                <input id="spName" type="text" class="form-control" placeholder="Dein Name" maxlength="20">
            </div>
            <button class="btn btn--primary" style="width: 100%; margin-top: 16px; margin-bottom: 8px;" onclick="startSingleplayerGame()">
                Spiel starten
            </button>
            <button class="btn btn--secondary" style="width: 100%;" onclick="goBackToModes()">
                ZurÃ¼ck
            </button>
        </div>
    </div>

    <!-- ===== MULTIPLAYER START SCREEN (ANGEPASST) ===== -->
    <div id="multiplayerStartScreen" class="screen" style="display: none;">
        <div class="container" style="max-width: 600px; margin: 50px auto; padding: 32px; background: white; border-radius: 12px; border: 1px solid #ddd; text-align: center;">
            <h1 style="color: #218085; margin-bottom: 24px;">ğŸ² Kniffel - Multiplayer</h1>
            <p style="margin-bottom: 16px;">Raum erstellen oder beitreten</p>
            <div style="margin-bottom: 16px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 500; font-size: 12px;">Dein Name:</label>
                <input id="mpName" type="text" class="form-control" placeholder="Dein Name" maxlength="20">
            </div>
            <button class="btn btn--primary" style="width: 100%; margin-top: 16px; margin-bottom: 16px;" onclick="createRoom()">
                â• Raum erstellen
            </button>
            <div style="margin-bottom: 16px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 500; font-size: 12px;">Raum-Code:</label>
                <input id="code" type="text" class="form-control" placeholder="RAUM-CODE" maxlength="4">
            </div>
            <button class="btn btn--primary" style="width: 100%; margin-top: 16px; margin-bottom: 16px;" onclick="joinRoom()">
                ğŸ”— Beitreten
            </button>
            <button class="btn btn--secondary" style="width: 100%;" onclick="goBackToModes()">
                ZurÃ¼ck
            </button>
        </div>
    </div>

    <!-- ===== WAITINGSCREEN (bestehend, keine Ã„nderung nÃ¶tig) ===== -->
    <div id="waitingScreen" class="screen" style="display: none;">
        <div class="container" style="max-width: 600px; margin: 50px auto; padding: 32px; background: white; border-radius: 12px; border: 1px solid #ddd; text-align: center;">
            <h1>â³ Warten auf Spieler</h1>
            <p>Raum-Code: <strong id="roomCode">--</strong></p>
            <p>Spieler: <span id="playerCount">1/4</span></p>
            <div id="playerList" style="margin-bottom: 16px;"></div>
            <div id="startContainer"></div>
            <button class="btn btn--secondary" style="width: 100%;" onclick="goBackToModes()">
                Abbrechen
            </button>
        </div>
    </div>

    <!-- ===== GAME SCREEN (bestehend) ===== -->
    <div id="gameScreen" class="screen" style="display: none;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 16px;">
            <div style="background: white; padding: 16px; border-radius: 12px; border: 1px solid #ddd; text-align: center; margin-bottom: 16px;">
                <h2 id="turn">ğŸ® Spieler am Zug</h2>
                <p id="rolls" style="margin: 4px 0;">WÃ¼rfe: 3/3</p>
                <p id="roomCode" style="margin: 4px 0;">Raum: --</p>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                <!-- WÃ¼rfel-Bereich -->
                <div style="background: white; padding: 16px; border-radius: 12px; border: 1px solid #ddd;">
                    <h3 style="margin-top: 0;">ğŸ² WÃ¼rfel</h3>
                    <div id="dice" style="display: flex; gap: 8px; margin: 16px 0; flex-wrap: wrap; justify-content: center;"></div>
                    <button id="rollBtn" class="btn btn--primary" style="width: 100%; margin-top: 16px;" onclick="rollDice()">
                        ğŸ² WÃ¼rfeln
                    </button>
                    <p style="font-size: 12px; color: #666; margin: 8px 0 0 0;">Klick auf WÃ¼rfel um sie zu halten</p>
                </div>

                <!-- Punkte-Tabelle -->
                <div style="background: white; padding: 16px; border-radius: 12px; border: 1px solid #ddd; overflow-x: auto;">
                    <h3 style="margin-top: 0;">ğŸ“Š Punkteblatt</h3>
                    <div id="scores"></div>
                </div>
            </div>

            <div id="playerInfo" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-top: 16px;"></div>
        </div>
    </div>

    <!-- ===== GAME OVER SCREEN (bestehend) ===== -->
    <div id="gameOverScreen" class="screen" style="display: none;">
        <div class="container" style="max-width: 600px; margin: 50px auto; padding: 32px; background: white; border-radius: 12px; border: 1px solid #ddd; text-align: center;">
            <h1>ğŸ† Spiel vorbei!</h1>
            <p id="winner" style="font-size: 24px; margin: 20px 0;"></p>
            <button class="btn btn--primary" style="width: 100%;" onclick="goBackToModes()">
                ğŸ  Zur Startseite
            </button>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html>
